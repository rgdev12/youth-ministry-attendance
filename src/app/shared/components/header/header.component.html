<header class="w-full bg-primary text-white p-5">
  <div class="container mx-auto flex items-center justify-between">
    <h1 class="text-xl font-semibold">Juventud Belén</h1>

    <!-- User Menu -->
    <div class="relative">
      <button
        (click)="toggleMenu()"
        class="flex items-center justify-center w-10 h-10 rounded-full hover:bg-white/20 transition-colors cursor-pointer"
      >
        <lucide-icon [img]="UserIcon" class="w-6 h-6 text-white"></lucide-icon>
      </button>

      <!-- Dropdown Menu -->
      @if (isMenuOpen) {
        <div class="absolute right-0 mt-2 w-48 rounded-lg shadow-lg bg-white border border-gray-200 py-2 z-50">
          <a routerLink="/change-password" class="flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-white/10 transition-colors">
            <lucide-icon [img]="LockIcon" class="w-4 h-4"></lucide-icon>
            Cambiar contraseña
          </a>
          <a routerLink="/reports" class="flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-white/10 transition-colors">
            <lucide-icon [img]="FileTextIcon" class="w-4 h-4"></lucide-icon>
            Reportes
          </a>
          <a routerLink="/charts" class="flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-white/10 transition-colors">
            <lucide-icon [img]="BarChartIcon" class="w-4 h-4"></lucide-icon>
            Gráficos
          </a>

          <!-- Separator -->
          <div class="my-2 border-t border-gray-200"></div>

          <button (click)="logout()" class="flex items-center gap-3 w-full px-4 py-2 text-sm text-red-400 hover:bg-white/10 transition-colors cursor-pointer">
            <lucide-icon [img]="LogOutIcon" class="w-4 h-4"></lucide-icon>
            Cerrar sesión
          </button>
        </div>
      }
    </div>
  </div>
</header>

<!-- Overlay to close menu when clicking outside -->
@if (isMenuOpen) {
  <div class="fixed inset-0 z-40" (click)="closeMenu()"></div>
}